{% extends "base.html" %}
{% load staticfiles %}
{% block title %}位置列表{% endblock %}
{% block content %}
{% if location %}
<p class="lead">位置：{{ location }}</p>
{% else %}
<p class="lead">位置：Root</p>
{% endif %}
<table class="table table-striped table-condensed">
    <thead>
        <th>名称</th>
    </thead>
    <tbody>
        {% if location.parent %}
        <td><a href="{% url "inventory:location" location.parent.id %}{% if pending %}?pending={{ pending.pk }}{% endif %}">Back</a></td>
        {% elif my_ID %}
        <td><a href="{% url "inventory:location_root" %}{% if pending %}?pending={{ pending.pk }}{% endif %}">Back</a></td>
        {% endif %}
        {% for sublocation in location_list %}
        <tr>
            <td><a href="{% url "inventory:location" sublocation.id %}{% if pending %}?pending={{ pending.pk }}{% endif %}">{{ sublocation.path }}</a></td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% if item_list %}
<p class="lead">物品：</p>
<table class="table table-striped table-condensed">
    <thead>
        <th>名称</th>
        <th>位置</th>
        <th>数量</th>
        <th>单位</th>
        <th>属性</th>
    </thead>
    <tbody>
        {% for item in item_list %}
        <tr>
            <td><a href="{% url "inventory:item" item.id %}">{{ item.name }}</a></td>
            <td>{{ item.location }}</td>
            <td>{{ item.quantity }}</td>
            <td>{{ item.unit }}</td>
            <td>{{ item.attribute }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% elif not location_list %}
<p class="lead">当前位置没有物品</p>
{% endif %}
{% if pending and location %}
<a href="{% url "inventory:put" pending.pk location.pk %}">将{{ pending }}存入此位置</a>
{%  endif %}
{% endblock %}